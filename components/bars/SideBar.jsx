import { Link } from "react-scroll";
import { AnimatePresence, motion } from 'framer-motion';
import { useEffect, useState } from "react";
import './Sidebar.module.css'

const linksData = [
    { name: "ILIN", path: "/ilin" },
    { name: "Команда", path: "/team" },
    { name: "Новости", path: "/achievements" },
    { name: "Связь", path: "/info" },
    { name: "Партнёры", path: "/credits" },
  ];

const SideBar = () => {

    const [isLinksVisible, setIsLinksVisible] = useState(false);
  const [links, setLinks] = useState([]);

  const toggleLinks = () => {
    if (!isLinksVisible) {
        setLinks(linksData);
    } else {
        setLinks([]); 
    }
    setIsLinksVisible(!isLinksVisible);
};


  useEffect(() => {
    if (!isLinksVisible) {
      setLinks([]);
    }
  }, [isLinksVisible]);

  const linkVariants = {
    hidden: { opacity: 0, x: -50 },
    visible: i => ({
      opacity: 1,
      x: 0,
      transition: { delay: i * 0.2 }
    }),
    exit: { opacity: 0, x: -20, transition: { duration: 0.3 } }
  };
    

    return (
            <header className="border-r-[2px] border-white h-full w-[70px] fixed left-0 top-0 z-20">
              <h1 className="absolute left-[14px] top-[300px]">               
            <svg width="34" height="348" viewBox="0 0 34 348" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.44 335.76L8.44 347.28H0.52L0.52 314.16H8.44V325.68H17.08V314.16H25L25 347.28H17.08V335.76H8.44ZM17.08 303.361V282.481H25L25 313.441H0.52L0.52 303.361H17.08ZM8.44 270.614V282.134H0.52L0.52 249.014H8.44L8.44 260.534H17.08V249.014H25L25 282.134H17.08L17.08 270.614H8.44ZM13.552 222.375H0.52L0.52 212.295H25L25 225.003L12.22 238.215H25L25 248.295H0.52L0.52 235.335L13.552 222.375ZM16.72 179.944L16.72 190.312C17.692 189.772 18.16 188.836 18.16 187.432L18.16 171.628H25L25 187.792C25 195.964 21.328 200.068 15.28 200.068C12.436 200.068 10.096 199.024 8.296 196.972C6.46 194.884 5.56 191.824 5.56 187.792V179.944C5.56 177.604 5.776 175.984 6.496 174.148C7.18 172.312 8.728 171.268 11.032 171.268C14.812 171.268 16.72 174.148 16.72 179.944ZM12.4 180.844L12.4 187.432C12.4 188.836 12.868 189.772 13.84 190.312L13.84 180.844C13.84 180.088 13.588 179.728 13.12 179.728C12.652 179.728 12.4 180.088 12.4 180.844ZM0.52 160.817L0.52 135.977H8.44L8.44 159.089C8.44 160.709 8.908 161.537 9.844 161.537C10.816 161.537 11.32 160.709 11.32 159.089L11.32 147.389C11.32 144.401 11.608 142.097 12.148 140.441C13.192 137.237 15.244 135.617 18.268 135.617C21.4 135.617 23.452 137.381 24.424 140.909C24.82 142.313 25 144.005 25 146.057L25 170.897H17.08L17.08 147.785C17.08 146.165 16.612 145.337 15.676 145.337C14.704 145.337 14.2 146.165 14.2 147.785L14.2 159.485C14.2 162.401 13.948 164.669 13.444 166.253C12.4 169.601 10.348 171.257 7.252 171.257C4.12 171.257 2.068 169.493 1.096 165.965C0.7 164.561 0.52 162.869 0.52 160.817ZM33.28 135.265H5.56L5.56 117.841C5.56 113.809 6.46 110.749 8.296 108.697C10.096 106.609 12.436 105.565 15.28 105.565C21.328 105.565 25 109.669 25 117.841V125.905H33.28V135.265ZM12.4 125.905H18.16V118.201C18.304 113.845 12.256 113.845 12.4 118.201V125.905ZM15.28 105.548C12.436 105.548 10.096 104.504 8.296 102.452C6.46 100.364 5.56 97.3044 5.56 93.2724L5.56 85.0644C5.56 81.0324 6.46 77.9724 8.296 75.9204C10.096 73.8324 12.436 72.7884 15.28 72.7884C21.328 72.7884 25 76.8924 25 85.0644V93.2724C25 101.444 21.328 105.548 15.28 105.548ZM12.4 85.4244V92.9124C12.256 97.2684 18.304 97.2684 18.16 92.9124V85.4244C18.304 81.0684 12.256 81.0684 12.4 85.4244ZM15.28 63.0797H25L25 72.4397H15.28C9.232 72.4397 5.56 68.3357 5.56 60.1637V52.2797H12.4V59.8037C12.4 62.0717 13.732 63.0797 15.28 63.0797ZM25 29.2453V39.6493C25 47.8213 21.328 51.9253 15.28 51.9253H5.56L0.879999 46.1653L0.879999 42.5653H5.56L5.56 29.2453H12.4L12.4 42.5653H15.28C16.828 42.5653 18.16 41.5573 18.16 39.2893V29.2453H25ZM25 9.08814L25 28.6001H18.16L18.16 9.98814C18.16 9.23214 17.908 8.87214 17.44 8.87214C16.972 8.87214 16.72 9.23214 16.72 9.98814L16.72 20.1761C16.72 25.9721 14.848 28.8881 11.068 28.8881C8.764 28.8881 7.216 27.8441 6.496 26.0081C5.776 24.1721 5.56 22.5161 5.56 20.1761L5.56 0.700137H12.4L12.4 19.2761C12.4 20.0321 12.652 20.4281 13.12 20.4281C13.588 20.4281 13.84 20.0321 13.84 19.2761L13.84 9.08814C13.84 3.29214 15.748 0.412136 19.528 0.412136C21.832 0.412136 23.38 1.45614 24.1 3.29214C24.784 5.12814 25 6.74814 25 9.08814Z" fill="white"/>
            </svg>
            </h1>
            <h2 className="absolute left-[30px] bottom-[30px]">
            <svg width="11" height="161" viewBox="0 0 11 161" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 155.274L8 160.816H6.05727L6.05727 155.53C6.05727 155.315 5.9857 155.213 5.85278 155.213C5.71985 155.213 5.64828 155.315 5.64828 155.53V158.423C5.64828 160.07 5.11659 160.898 4.04297 160.898C3.38858 160.898 2.94891 160.601 2.74442 160.08C2.53992 159.558 2.47857 159.088 2.47857 158.423L2.47857 152.892H4.4213L4.4213 158.168C4.4213 158.382 4.49287 158.495 4.62579 158.495C4.75872 158.495 4.83029 158.382 4.83029 158.168V155.274C4.83029 153.628 5.37221 152.81 6.44582 152.81C7.10021 152.81 7.53988 153.106 7.74438 153.628C7.93865 154.149 8 154.609 8 155.274ZM8 146.271L8 149.226C8 151.547 6.95706 152.712 5.23929 152.712L2.47857 152.712L1.14934 151.076L1.14934 150.054H2.47857L2.47857 146.271L4.4213 146.271L4.4213 150.054H5.23929C5.67895 150.054 6.05727 149.767 6.05727 149.123V146.271H8ZM5.23929 143.408H8V146.067H5.23929C3.52151 146.067 2.47857 144.901 2.47857 142.58L2.47857 140.341H4.4213L4.4213 142.478C4.4213 143.122 4.79962 143.408 5.23929 143.408ZM4.4213 132.564H8V138.188C8 138.853 7.93865 139.313 7.74438 139.834C7.53988 140.356 7.10021 140.652 6.44582 140.652C5.37221 140.652 4.83029 139.834 4.83029 138.188L4.83029 135.223C4.59512 135.223 4.4213 135.407 4.4213 135.734L4.4213 140.243H2.47857L2.47857 135.397C2.47857 133.464 3.26588 132.564 4.4213 132.564ZM6.05727 137.932L6.05727 135.223H5.64828L5.64828 137.932C5.64828 138.147 5.71985 138.249 5.85278 138.249C5.9857 138.249 6.05727 138.147 6.05727 137.932ZM4.4213 131.334L4.4213 132.357H2.47857L2.47857 128.676H6.05727L6.05727 127.653H8L8 132.357H6.05727L6.05727 131.334H4.4213ZM2.06957 131.334H0.331346L0.331346 128.676H2.06957L2.06957 131.334ZM2.47857 124.264L2.47857 119.315H7.58078C9.29856 119.315 10.3517 120.481 10.3517 122.802V127.291H8.409V122.628C8.409 122.188 8.27607 121.974 8 121.974V124.264C8 126.585 6.95706 127.751 5.23929 127.751C4.43152 127.751 3.7669 127.454 3.25566 126.871C2.73419 126.278 2.47857 125.409 2.47857 124.264ZM6.05727 124.162L6.05727 121.974H4.4213L4.4213 124.162C4.3804 125.399 6.09817 125.399 6.05727 124.162ZM4.4213 116.448H8V119.106H0.331346L0.331346 116.448H2.47857L2.47857 114.362C2.47857 112.041 3.52151 110.875 5.23929 110.875H8L8 113.533H5.23929C4.79962 113.533 4.4213 113.82 4.4213 114.464L4.4213 116.448ZM8 104.331V107.286C8 109.607 6.95706 110.773 5.23929 110.773H2.47857L1.14934 109.137L1.14934 108.115H2.47857L2.47857 104.331H4.4213L4.4213 108.115H5.23929C5.67895 108.115 6.05727 107.828 6.05727 107.184L6.05727 104.331H8ZM5.23929 100.86C4.43152 100.86 3.7669 100.563 3.25566 99.9804C2.73419 99.3874 2.47857 98.5183 2.47857 97.3731L2.47857 95.0418C2.47857 93.8966 2.73419 93.0275 3.25566 92.4447C3.7669 91.8517 4.43152 91.5551 5.23929 91.5551C6.95706 91.5551 8 92.7208 8 95.0418V97.3731C8 99.6941 6.95706 100.86 5.23929 100.86ZM4.4213 95.1441L4.4213 97.2708C4.3804 98.5081 6.09817 98.5081 6.05727 97.2708L6.05727 95.1441C6.09817 93.9069 4.3804 93.9069 4.4213 95.1441ZM6.05727 85.9335H2.47857L2.47857 83.275H8L8 88.0193C8 90.3404 6.95706 91.506 5.23929 91.506H2.47857L2.47857 88.8475H5.23929C5.67895 88.8475 6.05727 88.5612 6.05727 87.9171V85.9335ZM8 76.6316L8 79.5866C8 81.9077 6.95706 83.0733 5.23929 83.0733H2.47857L1.14934 81.4373L1.14934 80.4148H2.47857L2.47857 76.6316H4.4213L4.4213 80.4148H5.23929C5.67895 80.4148 6.05727 80.1285 6.05727 79.4844L6.05727 76.6316H8ZM5.23929 73.16C4.43152 73.16 3.7669 72.8634 3.25566 72.2806C2.73419 71.6876 2.47857 70.8185 2.47857 69.6733L2.47857 67.342C2.47857 66.1968 2.73419 65.3277 3.25566 64.7449C3.7669 64.1518 4.43152 63.8553 5.23929 63.8553C6.95706 63.8553 8 65.021 8 67.342L8 69.6733C8 71.9943 6.95706 73.16 5.23929 73.16ZM4.4213 67.4443V69.571C4.3804 70.8082 6.09817 70.8082 6.05727 69.571V67.4443C6.09817 66.207 4.3804 66.207 4.4213 67.4443ZM0.331346 60.2696L0.331346 58.0303H2.06957L2.06957 60.3616C2.06957 60.8626 2.15137 61.0978 2.42745 61.0978H2.47857L2.47857 58.0303H4.4213V61.0978H8V63.7563H3.09206C1.37428 63.7563 0.331346 62.5906 0.331346 60.2696ZM5.24951 47.5554H8V50.4184H5.23929L1.04709 54.764L1.04709 50.9808L2.97959 48.9869L1.04709 46.9931L1.04709 43.2099L5.24951 47.5554ZM4.4213 36.4536H8L8 42.0773C8 42.7419 7.93865 43.202 7.74438 43.7235C7.53988 44.245 7.10021 44.5415 6.44582 44.5415C5.37221 44.5415 4.83029 43.7235 4.83029 42.0773L4.83029 39.1121C4.59512 39.1121 4.4213 39.2961 4.4213 39.6233L4.4213 44.1325H2.47857L2.47857 39.2859C2.47857 37.3534 3.26588 36.4536 4.4213 36.4536ZM6.05727 41.8217L6.05727 39.1121H5.64828L5.64828 41.8217C5.64828 42.0364 5.71985 42.1386 5.85278 42.1386C5.9857 42.1386 6.05727 42.0364 6.05727 41.8217ZM6.21065 33.5877H8V36.2462H0.331346L0.331346 33.5877H4.26792V31.6041C4.26792 30.9599 3.8896 30.6736 3.44993 30.6736H2.47857L2.47857 28.0151H3.44993C4.46219 28.0151 5.19839 28.3935 5.66873 29.1603L8 27.8106V30.9804L6.21065 32.0131V33.5877ZM6.05727 22.2908H2.47857L2.47857 19.6323H8L8 24.3767C8 26.6977 6.95706 27.8634 5.23929 27.8634H2.47857L2.47857 25.2049H5.23929C5.67895 25.2049 6.05727 24.9186 6.05727 24.2744V22.2908ZM8 12.989L8 15.944C8 18.265 6.95706 19.4306 5.23929 19.4306H2.47857L1.14934 17.7947L1.14934 16.7722H2.47857L2.47857 12.989H4.4213L4.4213 16.7722H5.23929C5.67895 16.7722 6.05727 16.4859 6.05727 15.8417L6.05727 12.989H8ZM4.4213 11.7628V12.7853H2.47857L2.47857 9.10432H6.05727L6.05727 8.08184H8V12.7853H6.05727V11.7628H4.4213ZM2.06957 11.7628H0.331346L0.331346 9.10432H2.06957L2.06957 11.7628ZM4.4213 -0.00844031H8V5.61524C8 6.27986 7.93865 6.73998 7.74438 7.26144C7.53988 7.78291 7.10021 8.07943 6.44582 8.07943C5.37221 8.07943 4.83029 7.26144 4.83029 5.61524L4.83029 2.65003C4.59512 2.65003 4.4213 2.83407 4.4213 3.16127L4.4213 7.67044H2.47857L2.47857 2.82385C2.47857 0.891348 3.26588 -0.00844031 4.4213 -0.00844031ZM6.05727 5.35962L6.05727 2.65003H5.64828L5.64828 5.35962C5.64828 5.57434 5.71985 5.67659 5.85278 5.67659C5.9857 5.67659 6.05727 5.57434 6.05727 5.35962Z" fill="white"/>
            </svg>
            </h2>
            <button onClick={toggleLinks} className="absolute top-0 left-0 w-[70px] h-[120px] border-b-[2px] border-white outline-none flex flex-col pl-[20px] justify-center space-y-[4px] hover:space-y-[5px] transition duration-2000">
            <div className="w-[30px] h-[3px] bg-white"></div>
            <div className="w-[20px] h-[3px] bg-white"></div>
            <div className="w-[10px] h-[3px] bg-white"></div>
            </button>
            <AnimatePresence>
              {isLinksVisible && (
                <div className="absolute left-[90px] top-[35px] flex flex-col">
                  {linksData.map((link, i) => (
                    <motion.div
                      key={i}
                      custom={i}
                      initial="hidden"
                      animate="visible"
                      exit="exit"
                      variants={linkVariants}
                    >
                      <Link href={link.path} className="text-white text-[34px] strelka">
                        {link.name}
                      </Link>
                    </motion.div>
                  ))}
                </div>
              )}
            </AnimatePresence>
          
            </header>
    )
}
export default SideBar;